!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@ionic/angular"),require("hammerjs")):"function"==typeof define&&define.amd?define("ion-bottom-drawer",["exports","@angular/core","@ionic/angular","hammerjs"],e):e((t=t||self)["ion-bottom-drawer"]={},t.ng.core,t.angular,t.Hammer)}(this,function(t,e,n,i){"use strict";function a(t,e,n,i){var a,o=arguments.length,r=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(r=(o<3?a(r):o>3?a(e,n,r):a(e,n))||r);return o>3&&r&&Object.defineProperty(e,n,r),r}function o(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}var r;(r=t.DrawerState||(t.DrawerState={}))[r.Bottom=0]="Bottom",r[r.Docked=1]="Docked",r[r.Top=2]="Top";var s=function(){function r(n,i,a,o){this._element=n,this._renderer=i,this._domCtrl=a,this._platform=o,this.dockedHeight=50,this.shouldBounce=!0,this.disableDrag=!1,this.distanceTop=0,this.transition="0.25s ease-in-out",this.state=t.DrawerState.Bottom,this.minimumHeight=0,this.stateChange=new e.EventEmitter,this._BOUNCE_DELTA=30}return r.prototype.ngAfterViewInit=function(){var t=this;this._renderer.setStyle(this._element.nativeElement.querySelector(".ion-bottom-drawer-scrollable-content :first-child"),"touch-action","none"),this._setDrawerState(this.state);var e=new i(this._element.nativeElement);e.get("pan").set({enable:!0,direction:i.DIRECTION_VERTICAL}),e.on("pan panstart panend",function(e){if(!t.disableDrag)switch(e.type){case"panstart":t._handlePanStart();break;case"panend":t._handlePanEnd(e);break;default:t._handlePan(e)}})},r.prototype.ngOnChanges=function(t){t.state&&this._setDrawerState(t.state.currentValue)},r.prototype._setDrawerState=function(e){switch(this._renderer.setStyle(this._element.nativeElement,"transition",this.transition),e){case t.DrawerState.Bottom:this._setTranslateY("calc(100vh - "+this.minimumHeight+"px)");break;case t.DrawerState.Docked:this._setTranslateY(this._platform.height()-this.dockedHeight+"px");break;default:this._setTranslateY(this.distanceTop+"px")}},r.prototype._handlePanStart=function(){this._startPositionTop=this._element.nativeElement.getBoundingClientRect().top},r.prototype._handlePanEnd=function(e){if(this.shouldBounce&&e.isFinal)switch(this._renderer.setStyle(this._element.nativeElement,"transition",this.transition),this.state){case t.DrawerState.Docked:this._handleDockedPanEnd(e);break;case t.DrawerState.Top:this._handleTopPanEnd(e);break;default:this._handleBottomPanEnd(e)}this.stateChange.emit(this.state)},r.prototype._handleTopPanEnd=function(e){e.deltaY>this._BOUNCE_DELTA?this.state=t.DrawerState.Docked:this._setTranslateY(this.distanceTop+"px")},r.prototype._handleDockedPanEnd=function(e){var n=Math.abs(e.deltaY);n>this._BOUNCE_DELTA&&e.deltaY<0?this.state=t.DrawerState.Top:n>this._BOUNCE_DELTA&&e.deltaY>0?this.state=t.DrawerState.Bottom:this._setTranslateY(this._platform.height()-this.dockedHeight+"px")},r.prototype._handleBottomPanEnd=function(e){-e.deltaY>this._BOUNCE_DELTA?this.state=t.DrawerState.Docked:this._setTranslateY("calc(100vh - "+this.minimumHeight+"px)")},r.prototype._handlePan=function(t){var e=t.center.y;if(this._renderer.setStyle(this._element.nativeElement,"transition","none"),e>0&&e<this._platform.height()&&("panup"===t.additionalEvent||"pandown"===t.additionalEvent)){var n=this._startPositionTop+t.deltaY;n>=this.distanceTop?this._setTranslateY(n+"px"):n<this.distanceTop&&this._setTranslateY(this.distanceTop+"px"),n>this._platform.height()-this.minimumHeight&&this._setTranslateY(this._platform.height()-this.minimumHeight+"px")}},r.prototype._setTranslateY=function(t){var e=this;this._domCtrl.write(function(){e._renderer.setStyle(e._element.nativeElement,"transform","translateY("+t+")")})},a([e.Input(),o("design:type",Object)],r.prototype,"dockedHeight",void 0),a([e.Input(),o("design:type",Object)],r.prototype,"shouldBounce",void 0),a([e.Input(),o("design:type",Object)],r.prototype,"disableDrag",void 0),a([e.Input(),o("design:type",Object)],r.prototype,"distanceTop",void 0),a([e.Input(),o("design:type",Object)],r.prototype,"transition",void 0),a([e.Input(),o("design:type",Number)],r.prototype,"state",void 0),a([e.Input(),o("design:type",Object)],r.prototype,"minimumHeight",void 0),a([e.Output(),o("design:type",e.EventEmitter)],r.prototype,"stateChange",void 0),r=a([e.Component({selector:"ion-bottom-drawer",template:'<ion-content class="ion-bottom-drawer-scrollable-content" no-bounce>\n  <ng-content></ng-content>\n</ion-content>\n',styles:[":host{width:100%;height:100%;position:absolute;left:0;z-index:11!important;background-color:#fff;-webkit-transform:translateY(100vh);transform:translateY(100vh)}"]}),o("design:paramtypes",[e.ElementRef,e.Renderer2,n.DomController,n.Platform])],r)}(),h=function(){function t(){}return t=a([e.NgModule({declarations:[s],imports:[n.IonicModule],exports:[s]})],t)}();t.IonBottomDrawerModule=h,t.Éµa=s,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ion-bottom-drawer.umd.min.js.map